# 다대다 연관관계

## 어떤 관계가 다대다(ManyToMany)인가?
- 영화와 회원
- 상품과 카테고리
- 학생과 수업과목
- 상품과 회원
위의 네가지 관계는 공통점을 가지고 있다. 한 회원이 한 영화에 여러개의 리뷰를 남길 수 있고, 한 영화 또한 여러 명의 리뷰를 받을 수 있다.
나머지 경우도 각자의 Entity가 서로에게 독립적이므로 이를 다대다 관계로 정의할 수 있다.

## 구현
실제 테이블 설계에서는 <strong>매핑 테이블</strong>을 사용한다. 말 그대로 두 테이블의 중간에서 필요한 정보를 양쪽에서 끌어서 쓰는 구조이다.

## 특징
- 매핑 테이블의 작성 이전에 다른 테이블들이 먼저 존재해야만 한다.
- 매핑 테이블은 주로 '명서'가 아닌 '동사'나 '히스토리'에 대한 데이터를 보관하는 용도이다.
- 매핑 테이블은 중간에서 양쪽의 <strong>PK</strong>를 참조하는 형태로 사용된다.

## JPA에서 다대다(M:N) 처리
JPA에서 다대다를 처리하는 방식은 크게 보면 두 가지가 있다.
- @ManyToMany를 이용해서 처리하는 방식
- 별도의 엔티티를 설계하고, @ManyToOne을 이용해서 처리하는 방식
